{% extends 'base.html' %}

{% block content %}
  {% load static %}

  <section class="vh-100">
    <div class="container-fluid h-custom">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col-md-9 col-lg-6 col-xl-5">
          <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp"
            class="img-fluid" alt="image">
        </div>
        <div class="col-md-8 col-lg-6 col-xl-4 offset-xl-1">
          {% if not user.is_authenticated %}
          <form method="POST" action="{% url 'login_user' %}">
            {% csrf_token %}
            <div class="d-flex flex-row align-items-center justify-content-center justify-content-lg-start">
              <p class="lead fw-normal mb-0 me-3">Sign</p>
            </div> 
            <div class="divider d-flex align-items-center my-4"></div>
            
            <!-- Email input -->
            <div class="form-outline mb-4">
                <input type="email" class="form-control form-control-lg" id="InputEmail1" name="username" placeholder="Enter your email" required>
              
              <label class="form-label" for="InputEmail1">Username</label>
            </div>

            <!-- Password input -->
            <div class="form-outline mb-3">
    <div class="input-group">
        <input type="password" class="form-control form-control-lg" id="InputPassword1" name="password" placeholder="Enter your Password" required>  
        <button class="btn btn-success" type="button" onclick="togglePassword('InputPassword1')">
            <ion-icon id="eyeIcon" name="eye-off-outline"></ion-icon>
        </button>   
    </div>       
    <label class="form-label" for="InputPassword1">Password</label>
</div>


            <div class="text-center text-lg-start mt-4 pt-2">
              <button type="submit" class="btn btn-success btn-lg"
                style="padding-left: 2.5rem; padding-right: 2.5rem;">Login</button>
              <p class="small fw-bold mt-2 pt-1 mb-0">Don't have an account? <a href="{% url 'register_user' %}" class="link-danger">Register</a></p>
            </div>
          </form>
          {% endif %}
        </div>
      </div>
    </div>
  </section>

  

  <script>
    function togglePassword(passwordFieldId) {
      var passwordField = document.getElementById(passwordFieldId);
      var icon = document.getElementById('eyeIcon');
      if (passwordField.type === "password") {
        passwordField.type = "text";
        icon.name = "eye-outline";
      } else {
        passwordField.type = "password";
        icon.name = "eye-off-outline";
      }
    }
  </script>

{% endblock %}
